<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>

    <script>
      b = [1, 2, 1, 1, 1, 1, 1];

      function init() {
        pocket = [];

        for (i = 0; i <= 9; i++) {
          pocket[i] = [];
          for (j = 0; j <= 6; j++) {
            pocket[i][j] = -1;
          }
        }
        disp();
      }

      function disp() {
        for (i = 0; i <= 9; i++) {
          for (j = 0; j <= 6; j++) {
            document.write(pocket[i][j] + " ");
          }
          document.write("<br>");
        }
        document.write("<br>");
        findMax();
      }

      function findMax() {
        max = b[0]; // assuming the first element to be maximum.

        for (i = 1; i < b.length; i++) {
          if (b[i] > max) {
            max = b[i];
          }
        }
      }

      function findDigits() {
        d = 0;

        while (max != 0) {
          max = parseInt(max / 10);
          d++;
        }

        return d;
      }

      function findIndex(p, num) {
        k = 0;
        while (k < p - 1) {
          num = parseInt(num / 10);
          k++;
        }

        return num % 10;
      }

      function placePocket(ele, idx) {
        for (k = 0; k < pocket[idx].length; k++) {
          if (pocket[idx][k] == -1) {
            pocket[idx][k] = ele;
            return; // important
          }
        }
      }

      function emptyPocket() {
        let i = 0,
          j = 0;
        l = 0;
        for (i = 0; i <= 9; i++) {
          for (j = 0; j <= 6; j++) {
            if (pocket[i][j] != -1) {
              b[l++] = pocket[i][j];
              pocket[i][j] = -1;
            }
          }
        }
      }

      function radix1() {
        pass = findDigits();
        // alert(pass);
        let i = 0,
          j = 0;
        for (i = 1; i <= pass; i++) {
          for (j = 0; j < b.length; j++) {
            idx = findIndex(i, b[j]);
            placePocket(b[j], idx);
          }
          disp();
          emptyPocket();
        }
      }

      function secondMax() {
        flag = false;
        for (i = b.length - 1; i >= 1; i--) {
          if (b[i] != b[i - 1]) {
            flag = true;
            break;
          }
        }

        if (flag) {
          alert("The second max value=" + b[i - 1]);
        } else {
          alert("All the elements are same!");
        }
      }

      init();
      radix1();
      alert(b);
      secondMax();
    </script>
  </head>
  <body></body>
</html>
